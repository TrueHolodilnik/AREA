[logic]
active = ph_door@locked

[ph_door@locked]
locked = true
closed = true
snd_open_start = trader_door_locked
snd_close_start = no_sound
snd_close_stop = trader_door_close_stop
on_use = {-x27_first_check} %+x27_first_check%, {-x27_lastdoor_in_progress +x27_first_check -x27_lastdoor_open =actor_has_item(maneken_decoder) =actor_has_af(electric)} %+x27_lastdoor_in_progress =remove_af(electric)%, {-x27_lastdoor_in_progress} %=hud_message(st_x27_timer_error)%
on_info = {+x27_first_check +x27_lastdoor_open} ph_door@open %=play_sound(trader_door_open_start)%
; hit_on_bone = 1|ph_door@free|2|ph_door@free

[ph_door@open]
locked = false
closed = false
snd_open_start = trader_door_open_start
snd_close_start = trader_door_close_start
snd_close_stop = trader_door_close_stop
; on_use = ph_door@close
;hit_on_bone = 1|ph_door@free|2|ph_door@free
heavy = true
unlock_for_npc = false
tip_open = none
tip_close = none
not_for_npc = true

[ph_door@free]
locked = false
closed = true
snd_open_start = no_sound
snd_close_start = no_sound
snd_close_stop = no_sound
no_force = true
on_use = ph_door@open
