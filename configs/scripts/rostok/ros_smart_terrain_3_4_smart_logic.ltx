;camping
[walker@generic]
gather_items_enabled = true
help_wounded_enabled = true
corpse_detection_enabled = true
turn_on_campfire = true

[meet@bench]
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance 	= 0

[logic@ros_smart_terrain_3_4_camp_work_1]
active = animpoint@ros_smart_terrain_3_4_camp_work_1
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_camp_work_1]
cover_name = ros_smart_terrain_3_4_animpoint_kamp1
use_camp = true
turn_on_campfire = true

[logic@ros_smart_terrain_3_4_camp_work_2]
active = animpoint@ros_smart_terrain_3_4_camp_work_2
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_camp_work_2]
cover_name = ros_smart_terrain_3_4_animpoint_kamp2
use_camp = true
turn_on_campfire = true
meet = meet@bench

[logic@ros_smart_terrain_3_4_camp_work_3]
active = animpoint@ros_smart_terrain_3_4_camp_work_3
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_camp_work_3]
cover_name = ros_smart_terrain_3_4_animpoint_kamp3
use_camp = true
turn_on_campfire = true

[logic@ros_smart_terrain_3_4_work_out_1]
active = animpoint@ros_smart_terrain_3_4_work_out_1
suitable = {!surge_started} true
prior = 25

[animpoint@ros_smart_terrain_3_4_work_out_1]
cover_name = ros_smart_terrain_3_4_animpoint_out1
use_camp = true
turn_on_campfire = true
meet = meet@bench

[logic@ros_smart_terrain_3_4_garage_1]
active = animpoint@ros_smart_terrain_3_4_garage_1
suitable = {!surge_started} true
prior = 25

[animpoint@ros_smart_terrain_3_4_garage_1]
cover_name = ros_smart_terrain_3_4_animpoint_garage1
use_camp = true
turn_on_campfire = true
meet = meet@bench

[logic@ros_smart_terrain_3_4_garage_2]
active = animpoint@ros_smart_terrain_3_4_garage_2
suitable = {!surge_started} true
prior = 25

[animpoint@ros_smart_terrain_3_4_garage_2]
cover_name = ros_smart_terrain_3_4_animpoint_garage2
use_camp = true
turn_on_campfire = true
meet = meet@bench

[logic@ros_smart_terrain_3_4_bar_1]
active = animpoint@ros_smart_terrain_3_4_bar_1
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_bar_1]
cover_name = ros_smart_terrain_3_4_animpoint_bar_1
use_camp = true
turn_on_campfire = true

[logic@ros_smart_terrain_3_4_bar_2]
active = animpoint@ros_smart_terrain_3_4_bar_2
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_bar_2]
cover_name = ros_smart_terrain_3_4_animpoint_bar_2
use_camp = true
turn_on_campfire = true

[logic@ros_smart_terrain_3_4_bar_3]
active = animpoint@ros_smart_terrain_3_4_bar_3
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_bar_3]
cover_name = ros_smart_terrain_3_4_animpoint_bar_3
use_camp = true
turn_on_campfire = true

[logic@ros_smart_terrain_3_4_bar_4]
active = animpoint@ros_smart_terrain_3_4_bar_4
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_bar_4]
cover_name = ros_smart_terrain_3_4_animpoint_bar_4
use_camp = true
turn_on_campfire = true

[logic@ros_smart_terrain_3_4_bar_5]
active = animpoint@ros_smart_terrain_3_4_bar_5
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_bar_5]
cover_name = ros_smart_terrain_3_4_animpoint_bar_5
use_camp = true
turn_on_campfire = true

[logic@ros_smart_terrain_3_4_bar_6]
active = animpoint@ros_smart_terrain_3_4_bar_6
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_bar_6]
cover_name = ros_smart_terrain_3_4_animpoint_bar_6
use_camp = true
turn_on_campfire = true

[logic@ros_smart_terrain_3_4_bar_7]
active = animpoint@ros_smart_terrain_3_4_bar_7
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_bar_7]
cover_name = ros_smart_terrain_3_4_animpoint_bar_7
use_camp = true
turn_on_campfire = true

[logic@ros_smart_terrain_3_4_bar_8]
active = animpoint@ros_smart_terrain_3_4_bar_8
suitable = true
prior = 25

[animpoint@ros_smart_terrain_3_4_bar_8]
cover_name = ros_smart_terrain_3_4_animpoint_bar_8
use_camp = true
turn_on_campfire = true
on_game_timer = 1500 | {!surge_started} animpoint@ros_smart_terrain_3_4_smoke_8

[animpoint@ros_smart_terrain_3_4_smoke_8]:animpoint@ros_smart_terrain_3_4_bar_8
cover_name = ros_smart_terrain_3_4_animpoint_smoke_1
avail_animations = smoking_stand
on_game_timer = 700 | animpoint@ros_smart_terrain_3_4_bar_8
on_info = {=surge_started} animpoint@ros_smart_terrain_3_4_bar_8

[animpoint@ros_smart_terrain_3_4_smoke_7]:animpoint@ros_smart_terrain_3_4_bar_7
cover_name = ros_smart_terrain_3_4_animpoint_smoke_2
avail_animations = smoking_stand
on_game_timer = 700 | animpoint@ros_smart_terrain_3_4_bar_7
on_info = {=surge_started} animpoint@ros_smart_terrain_3_4_bar_7

[walker@just_stay]
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
turn_on_campfire = false
use_camp = false
invulnerable = {!actor_enemy} true

[logic@ros_smart_terrain_3_4_bar_guard_1]
active = animpoint@ros_smart_terrain_3_4_bar_guard_1
suitable = {=check_npc_name(bar_visitors_garik_stalker_guard)} true
prior = 200

[animpoint@ros_smart_terrain_3_4_bar_guard_1]:walker@just_stay
cover_name = ros_smart_terrain_3_4_animpoint_guard_1
avail_animations = guard
meet = meet@ros_bar_guard_1
on_info = {+actor_meet_nimble_room} walker@guard_nodoor

[danger_ignore]
ignore_distance = 0

[walker@guard_nodoor]
path_walk = guard_far_door_walk
path_look = guard_door_look
def_state_standing = ward
def_state_moving1 = walk
def_state_moving2 = walk
def_state_moving3 = walk
;on_actor_not_in_zone = bar_bar_room_area |  {-bar_barman_need_room} walker@guard_door
;soundgroup = bar_visitors1
danger = danger_ignore
meet = meet@1
on_game_timer = 100 | %=disable_meet_nimble_info% animpoint@ros_smart_terrain_3_4_bar_guard_1

[logic@ros_smart_terrain_3_4_bar_guard_2]
active = walker@ros_smart_terrain_3_4_bar_guard_2
suitable = {=check_npc_name(bar_visitors_zhorik_stalker_guard2)} true
prior = 200

[walker@ros_smart_terrain_3_4_bar_guard_2]:walker@just_stay
path_walk = guardian_1_walk
path_look = guardian_1_look
meet = meet@ros_bar_guard_2

;barman
[logic@bar_barman]
active = walker@barman_main
suitable = {=check_npc_name(bar_visitors_barman_stalker_trader)} true
trade = misc\trade\trade_bar_barman_mlty.ltx
prior = 200
can_select_weapon = false
level_spot = trader
dont_keep_items = true
post_combat_time = 0,0

[walker@barman_main]
path_walk = barman_1_walk
path_look = barman_look
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
turn_on_campfire = false
invulnerable = {!actor_enemy} true
meet = meet@barman
on_info = {=actor_in_zone(ros_sr_bar_1)} walker@ros_barman_1
on_info2 = {=actor_in_zone(ros_sr_bar_2)} walker@ros_barman_2
on_info3 = {=actor_in_zone(ros_sr_bar_3)} walker@ros_barman_3
on_info4 = {=actor_in_zone(ros_sr_bar_4)} walker@ros_barman_4

[walker@ros_barman_1]:walker@barman_main
path_walk = barman_1_walk
; combat_ignore_cond = true
; anim = hide_no_wpn
; target = story | actor
; on_info = {!actor_in_zone(ros_sr_bar_1)} walker@barman_main
; on_info2 = {!actor_in_zone(ros_sr_bar_4)} walker@barman_main

[walker@ros_barman_2]:walker@barman_main
path_walk = barman_2_walk
; combat_ignore_cond = true
; anim = hide_no_wpn
; target = story | actor
; on_info = {!actor_in_zone(ros_sr_bar_2)} walker@barman_main

[walker@ros_barman_3]:walker@barman_main
path_walk = barman_3_walk
; combat_ignore_cond = true
; anim = hide_no_wpn
; target = story | actor
; on_info = {!actor_in_zone(ros_sr_bar_3)} walker@barman_main

[walker@ros_barman_4]:walker@barman_main
path_walk = barman_4_walk
; combat_ignore_cond = true
; anim = hide_no_wpn
; target = story | actor
; on_info = {!actor_in_zone(ros_sr_bar_4)} walker@barman_main

[meet@barman]
close_anim 		= wait
close_victim 	= actor
far_anim 		= wait
far_victim 		= nil
close_distance  = 3
far_distance 	= 5
close_snd_hello         = bar_barman_greeting
close_snd_bye           = bar_barman_farewell
close_snd_distance = 5
use = {=actor_enemy} false, true
meet_on_talking = true
allow_break = false
; trade_enable = {+gar_butcher_firstmeet_4} true, false
meet_dialog = {+ds_igor_after_x18 -ros_barman_after_x18} ros_barman_after_x18, nil

[meet@ros_bar_guard_1]
close_anim 		= backoff
; close_victim 	= actor
far_anim 		= guard
; far_victim 		= nil
close_distance  = 3
far_distance 	= 5
close_snd_hello         = bar_guard_stop
; close_snd_bye           = bar_barman_farewell
close_snd_distance = 3
use = true, false
meet_on_talking = true
allow_break = false

[meet@ros_bar_guard_2]
close_distance = 5
close_victim = actor
close_anim = guard
close_snd_hello = bar_guard_prohodi
close_snd_distance = 5
use			    = false
use_wpn		    = false
abuse           = false

[logic@bar_informator_mlr]
suitable = {=check_npc_name(bar_informator_mlr)} true
prior = 140
active = animpoint@base
can_select_weapon = true
dont_keep_items = true
level_spot = quest_npc

[animpoint@base]
cover_name = informator_smart_cover_mlr
avail_animations = animpoint_stay_wall
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
invulnerable = {!actor_enemy} true, false
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} true
combat_ignore_keep_when_attacked = true
meet = meet_inf

[meet_inf]
close_snd_hello = bar_informer_1_mlr
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance 	= 0
close_snd_distance = 3
abuse           = false
use = {=actor_enemy} false, true
allow_break = false
meet_on_talking = false
trade_enable = false

[logic@guid_bar_stalker_navigator]
suitable = {=check_npc_name(guid_bar_stalker_navigator)} true
prior = 140
active = walker@base
can_select_weapon = true
dont_keep_items = true
level_spot = quest_npc

[walker@base]
path_walk = guid_bar_1_walk
path_look  = guid_bar_1_look
gather_items_enabled = false
help_wounded_enabled = false
on_game_timer = 2500 | remark@smoke
corpse_detection_enabled = false
invulnerable = {!actor_enemy} true, false
combat_ignore_cond = {=actor_enemy =check_enemy_name(actor)} true
combat_ignore_keep_when_attacked = true
meet = meet

[remark@smoke]:walker@base
anim = smoking_stand
meet = meet = meet
on_game_timer = 1200 | walker@base

[meet]
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance 	= 0
close_snd_distance = 3
abuse           = false
use = {=actor_enemy} false, true
allow_break = false
meet_on_talking = false
trade_enable = false


;Arnie
[logic@bar_arena_manager]
active = animpoint@bar_arena_manager
suitable = {=check_npc_name(bar_arena_manager)} true
level_spot = quest_npc
prior = 200

[animpoint@bar_arena_manager]:walker@generic
cover_name = ros_smart_terrain_3_4_animpoint_guider
avail_animations = animpoint_stay_wait
meet = meet@bar_arena_manager
invulnerable = {!actor_enemy} true, false
combat_ignore_cond = {=is_enemy_actor_or_companion} false, true
combat_ignore_keep_when_attacked = true

[meet@bar_arena_manager]
use = true
close_anim = wait
trade_enable = false

;Liolik
[logic@bar_arena_guard]
active = walker@bar_arena_guard
suitable = {=check_npc_name(bar_arena_guard)} true
prior = 200

[walker@bar_arena_guard]:walker@generic
path_walk = bar_arena_guard_walk
path_look = bar_arena_guard_look
meet = meet@bar_arena_guard
trade_enable = false

[meet@bar_arena_guard]
close_distance = 2
close_victim = actor
close_anim = guard
use			    = false
use_wpn		    = false
abuse           = false

;tech
[logic@bar_visitors_cardan_tech]
suitable = {=check_npc_name(bar_visitors_stalker_mechanic)} true
prior = 100
active = animpoint@tech_cardan
level_spot = mechanic
trade = misc\trade\trade_tech_mlty.ltx

[animpoint@tech_cardan]
cover_name = bar_visitors_cardan_tech
reach_distance = 2
avail_animations = zat_b3_tech_idle
use_camp = false
meet = meet_tech
on_info = {+bar_visitors_tech_out =dist_to_actor_ge(20)} animpoint@sleep, {+bar_visitors_tech_drinking +bar_visitors_tech_out} animpoint@drinking %-bar_visitors_tech_drinked_out%, {+bar_visitors_tech_drinking +bar_visitors_tech_have_couple_dose} animpoint@drinking %-bar_visitors_tech_drinked_out%, {+bar_visitors_tech_drinking +bar_visitors_tech_have_one_dose} animpoint@drinking %-bar_visitors_tech_drinked_out%
;on_info2 = {=dist_to_actor_ge(75)} %-bar_visitors_tech_greetings%, {=see_actor =dist_to_actor_le(3) -zat_b3_mech_greetings}  %=play_sound(zat_b3_tech_realy_drunk) +bar_visitors_tech_greetings%
on_info3 = {=dist_to_actor_ge(20)} %+bar_visitors_tech_waked_up +bar_visitors_tech_drinked_out%
on_game_timer = 100 | %+bar_visitors_tech_waked_up +bar_visitors_tech_drinked_out% 
combat_ignore_cond = {=is_enemy_actor_or_companion} false, true
combat_ignore_keep_when_attacked = true
invulnerable = {!actor_enemy} true, false
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
on_info5 = {=npc_talking} animpoint@short_idle_tech

[animpoint@short_idle_tech]:animpoint@tech_cardan
avail_animations = zat_b3_tech_idle_short
on_actor_dist_ge_nvis = 10 | animpoint@tech_cardan

[meet_tech]
close_snd_hello = bar_mech_meet
close_snd_bye   = bar_mech_meet_bye
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance 	= 0
;use = {+bar_visitors_tech_waked_up +bar_visitors_tech_drinked_out} true, false
use = true
allow_break = false
;meet_dialog	= {+bar_visitors_tech_see_produce_62 -zat_a23_actor_has_access_card_to_testing_workshop} zat_b3_stalker_tech_produce_62_start
meet_on_talking = false

[animpoint@drinking]
cover_name = bar_visitors_cardan_tech
reach_distance = 2
avail_animations = zat_b3_tech_drink
use_camp = false
on_game_timer = 37 | {-bar_visitors_tech_take_dose +bar_visitors_tech_out} %=play_sound(zat_b3_tech_take_third_dose) +bar_visitors_tech_take_dose%
on_game_timer2 = 42 | {+bar_visitors_tech_out} animpoint@sleep %-bar_visitors_tech_drinking -bar_visitors_tech_take_dose -bar_visitors_tech_waked_up%, animpoint@base %-bar_visitors_tech_drinking -bar_visitors_tech_take_dose%
meet = no_meet
combat_ignore_cond = {=is_enemy_actor_or_companion} false, true
combat_ignore_keep_when_attacked = true
invulnerable = {!actor_enemy} true, false
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false

[animpoint@sleep]
cover_name = bar_visitors_cardan_tech
reach_distance = 2
avail_animations = zat_b3_tech_drunk
use_camp = false
on_game_timer = 220 | %+zat_a2_mech_sleep_sound%
on_info = {-bar_visitors_tech_out} animpoint@base  %-zat_a2_mech_sleep_sound%
on_info2 = {=dist_to_actor_ge(20)} %-bar_visitors_tech_sleeping%, {=see_actor =dist_to_actor_le(4) -bar_visitors_tech_sleeping +zat_a2_mech_sleep_sound} %=play_sound(zat_b3_tech_sleep_) +bar_visitors_tech_sleeping -bar_visitors_tech_out -bar_visitors_tech_have_couple_dose -bar_visitors_tech_have_one_dose%
meet = meet@sleep
combat_ignore_cond = {=is_enemy_actor_or_companion} false, true
combat_ignore_keep_when_attacked = true
invulnerable = {!actor_enemy} true
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false

[meet@sleep]
close_snd_hello = nil
close_snd_bye   = nil
close_anim 		= nil
close_victim 	= nil
far_anim 		= nil
far_victim 		= nil
close_distance  = 0
far_distance 	= 0
snd_on_use = zat_b3_tech_no_sleep_
abuse = false
use	= false
meet_on_talking = false

;Old Arena crowd
[logic@bar_visitors_animp_arena_1]
active = animpoint@bar_visitors_animp_arena_1
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_1]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_1
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_2]
active = animpoint@bar_visitors_animp_arena_2
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_2]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_2
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_3]
active = animpoint@bar_visitors_animp_arena_3
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_3]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_3
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_4]
active = animpoint@bar_visitors_animp_arena_4
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_4]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_4
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_5]
active = animpoint@bar_visitors_animp_arena_5
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_5]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_5
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_6]
active = animpoint@bar_visitors_animp_arena_6
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_6]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_6
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_7]
active = animpoint@bar_visitors_animp_arena_7
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_7]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_7
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_8]
active = animpoint@bar_visitors_animp_arena_8
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_8]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_8
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_9]
active = animpoint@bar_visitors_animp_arena_9
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_9]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_9
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_animp_arena_10]
active = animpoint@bar_visitors_animp_arena_10
suitable = {+bar_arena_start =npc_community(stalker) =npc_in_zone(bar_dolg_territory)} true, {+bar_arena_start =npc_community(dolg) =npc_in_zone(bar_dolg_territory)} true
prior = 70

[animpoint@bar_visitors_animp_arena_10]:walker@generic
reach_movement = sprint
cover_name = bar_visitors_animp_arena_10
avail_animations = hello_wpn
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = false
invulnerable = true
on_info = %=play_sound(arena_public)%
on_info2 = {-bar_arena_start} %=stop_sound%

[logic@bar_visitors_beh_trade_job_1]
active = beh@bar_visitors_beh_trade_job_1
suitable = {=npc_has_items_to_sell(bar_visitors) !surge_started} true
prior = 65

[beh@general]
meet = meet@bar_visitors_animpoint_meet
combat_ignore_cond = {=is_enemy_actor_or_companion} false, true
combat_ignore_keep_when_attacked = true
invulnerable = {!actor_enemy} true, false
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
sound_idle = state
behavior_state = beh_move
target = waypoint
walk_dist = 100
jog_dist = 220
wait_anim = guard
walk_anim = patrol
jog_anim = patrol
run_anim = rush
delay_anim = guard

[beh@bar_visitors_beh_trade_job_1]:beh@general
pt1 = 20000,choose | pos:135.85096740723,-4.8249821662903,20.686948776245 look:132.11878967285,-4.7589621543884,20.52367401123
pt2 = 9000,zat_b14_give_artefact_act | pos:135.85096740723,-4.8249821662903,20.686948776245 look:132.11878967285,-4.7589621543884,20.52367401123 sig:trade
pt3 = 15000,guard | pos:135.85096740723,-4.8249821662903,20.686948776245 look:132.11878967285,-4.7589621543884,20.52367401123
on_signal = trade | %=trade_job_sell_items%
path_end = loop

[logic@esc_2_12_stalker_nimble]
active = animpoint@base_nimble
level_spot = trader
suitable = {=check_npc_name(esc_2_12_stalker_nimble)} true
prior = 200
trade = misc\trade\trade_stalker_mlty.ltx
can_select_weapon = false
dont_keep_items = false

[animpoint@base_nimble]
cover_name = nimble_new_mlr_place
reach_movement = walk_noweap
avail_animations = zat_b3_tech_idle
use_camp = false
;reach_distance = 1.5
meet = meet@base
combat_ignore_cond = {=is_enemy_actor_or_companion} false, true
combat_ignore_keep_when_attacked = true
invulnerable = {!actor_enemy} true, false
on_info = {-esc_2_12_nimble_can_go !npc_talking} %+esc_2_12_nimble_can_go%, {+esc_2_12_nimble_can_go =npc_talking} %-esc_2_12_nimble_can_go%
on_info2 = {=is_dark_night} animpoint@animpoint_nimble_sleep
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
turn_on_campfire = false

[animpoint@animpoint_nimble_sleep]
cover_name = nimble_sleep_cover
avail_animations = sleep
combat_ignore_cond = {=is_enemy_actor_or_companion} false, true
combat_ignore_keep_when_attacked = true
gather_items_enabled = false
help_wounded_enabled = false
corpse_detection_enabled = false
invulnerable = {!actor_enemy} true, false
meet = no_meet
on_info = {!is_dark_night} animpoint@base
